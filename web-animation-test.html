<!DOCTYPE html>
<style>
.anim {
	top: 0px;
	left: 0px;
	width: 100px;
	height: 100px;
	background-color: #FAA;
	position: absolute;
}

.red {
	background-color: red;
}

.green {
	background-color: green;
}

.blue {
	background-color: blue;
}

#a {
	top: 100px;
}

#b {
	top: 200px;
}

#c {
	top: 300px;
}

</style>
<div class="anim">
</div>

<div>
	<div id="a" class="anim"></div>
	<div id="b" class="anim"></div>
</div>
<div>
	<div id="c" class="anim"></div>
</div>

<div class="group">
	<div class="anim top red"></div>
	<div class="anim right green"></div>
	<div class="anim down blue"></div>
</div>



<script src="prototype.js"></script>
<script src="web-animation.js"></script>
<script>

function keyframesFor(property, startVal, endVal) {
	var animFun = new KeyframesAnimFunction(property);
	animFun.frames.add(new AnimFrame(startVal, 0));
	animFun.frames.add(new AnimFrame(endVal, 1));
	return animFun;
}

var anim = new Anim(document.querySelector(".anim"), {startDelay: 2000, iterationDuration: 4000, prop: "left", from: 100, to: 200}, undefined, 1000);


var up = new AnimTemplate({animFunc: keyframesFor("top", 200, 0), timing: new Timing(0, 1000)}, "selector: .top");
var right = new AnimTemplate({animFunc: keyframesFor("left", 0, 200), timing: new Timing(500, 1000)}, "selector: .right");
var down = new AnimTemplate({animFunc: keyframesFor("top", 0, 200), timing: new Timing(1000, 1000)}, "selector: .down");

var group = new ParAnimGroupTemplate({});
group.add(up, right, down);


group.animate(document.querySelector(".group"), 0);

var group = new SeqAnimGroupTemplate({});
group.add(new AnimTemplate({animFunc: keyframesFor("left", 100, 150), timing: new Timing(0, 1000)}, "target: a"));
group.add(new AnimTemplate({animFunc: keyframesFor("left", 100, 150), timing: new Timing(0, 1000)}, "target: b"));
group.add(new AnimTemplate({animFunc: keyframesFor("left", 100, 150), timing: new Timing(0, 1000)}, "target: c"));

group.animate([], 0);

// group
//   anim selector: .foo
//   anim target: bar

// GroupTemplate : ([AnimTemplate], Timing)
// AnimTemplate (Timing, AnimFunction, ResolutionStrategy)

// GroupTemplate : ([AnimTemplate], [ResolutionStrategy], Timing)
// AnimTemplate (Timing, AnimFunction)

</script>